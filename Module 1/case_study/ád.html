<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exercise 4</title>
</head>
<style>
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
    }

    th, td {
        width: 200px;
        text-align: center;
    }

</style>
<body>
<input type="text" maxlength="5" pattern="[0-9]{5}" id="inputID" title="Only numbers are allowed!" placeholder="User ID: 12345">
<input type="text" placeholder="Nguyen Van A" id="inputName" title="Letters only!">
<input type="text" placeholder="Ocean Bank" id="inputBank" title="Letters only!">
<input type="number" placeholder="Total" id="inputTotal" onkeydown="return event.keyCode !== 69">
<button onclick="addUser()">Add User</button>

<br>
<br>
<table>
    <tr style="background-color: lightpink">
        <th>User ID</th>
        <th>User Name</th>
        <th>Bank</th>
        <th>Total</th>
    </tr>
    <tbody id="body"></tbody>
</table>
<script>
    let inputId = document.getElementById("inputID");
    let inputName = document.getElementById("inputName");
    let inputBank = document.getElementById("inputBank");
    let inputTotal = document.getElementById("inputTotal");
    let body = document.getElementById("body");

    class BankUser {
        constructor(id, name, bank, total) {
            this._id = id;
            this._name = name;
            this._bank = bank;
            this._total = total;
        }

        getID() {
            return this._id;
        }

        setID(newID) {
            this._id = newID;
        }

        getName() {
            return this._name
        }

        setName(newName) {
            this._name = newName;
        }

        getBank() {
            return this._bank;
        }

        setBank(newBank) {
            this._bank = newBank;
        }

        getTotal() {
            return this._total;
        }

        setTotal(newTotal) {
            this._total = newTotal;
        }

        toString() {
            return "User ID is: " + this._id + ". User name is: " + this._name + ". User's bank is: " + this._bank
                + ". User's total money is: " + this._total;
        }

    }

    let users = [];

    function addUser() {
        if (inputId.value % 1 === 0 && inputId.value.length === 5
            && inputName.value % 1 !== 0 && inputName.value.length > 0
            && inputBank.value % 1 !== 0 && inputBank.value.length > 0
            && inputTotal.value.length > 0) {
            alert("Processing...")

            let newUser = new BankUser(inputID.value, inputName.value, inputBank.value, inputTotal.value);
            users.push(newUser);
            display();
        } else alert("Please fill in valid information!");

    }

    function display() {
        body.innerHTML = ""
        inputId.value = "";
        inputName.value = "";
        inputBank.value = "";
        inputTotal.value = "";
        for (let i = 0; i < users.length; i++) {
            body.innerHTML += `
    <tr>
        <td>${users[i]._id}</td>
        <td>${users[i]._name}</td>
        <td>${users[i]._bank}</td>
        <td>${users[i]._total} VND</td>
    </tr>
          `
        }
    }

</script>
</body>
</html>